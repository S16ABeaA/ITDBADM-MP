<!DOCTYPE html>
<html>
<head>
  <script src="https://kit.fontawesome.com/a39233b32c.js" crossorigin="anonymous"></script>
  <link href="https://fonts.googleapis.com/css2?family=Bungee&family=Lato&display=swap" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <link rel="stylesheet" href="./css/header.css?v=1.1">
</head>

<body>

    <!-- Header -->
    <div class="header">
      <div class="left-section">
        <div style="cursor: pointer;" onclick="location.href = 'homepage.php'">
          <i class="fa-solid fa-bowling-ball logo-icon"></i>
          <strong class="shop-name">AnimoBowl</strong>
        </div>
      </div>

      <div class="middle-section">
        <div class="nav-menu">
          <div class="nav-row top-row">
            <div class="nav-item" onclick="location.href = 'homepage.php'">HOME</div>
            <div class="nav-item" onclick="location.href = 'view-all-products.php?type=bowlingball'">Bowling Ball</div>
            <div class="nav-item" onclick="location.href = 'view-all-products.php?type=bowlingshoes'">Bowling Shoes</div>
            <div class="nav-item" onclick="location.href = 'view-all-products.php?type=cleaningsupplies'">Cleaning Supplies</div>
          </div>
          <div class="nav-row bottom-row">
            <div class="nav-item" onclick="location.href = 'view-all-products.php?type=bowlingbag'">Bowling Bag</div>
            <div class="nav-item" onclick="location.href = 'view-all-products.php?type=bowlingaccessories'">Bowling Accessories</div>
            <div class="nav-item" onclick="location.href = 'services-page.php'">Services</div>
          </div>
        </div>
      </div>

      <div class="right-section">
        <div class="icon-container">
          <button class="icon-button" id="searchToggle">
            <i class="fa-solid fa-magnifying-glass search-icon"></i>
          </button>
          <p>Search</p>
        </div>
        

         <div class="icon-container">
          <button class="icon-button" onclick="location.href ='profile-page.php'">
            <i class="fa-regular fa-user profile-icon"></i>
          </button>
          <p>Profile</p>
         </div>
       
        <div class="icon-container">
          <button class="icon-button" onclick="location.href ='cart-page.php'">
            <i class="fa-solid fa-cart-shopping cart-icon"></i>
          </button>
          <p>Cart</p>
        </div>
      </div>
    </div>

    <!-- search modal -->
    <div class="search-modal" id="searchModal">
      <div class="search-container">
        <div class="search-header">
          <h2>Search Products</h2>
          <button class="close-btn" id="closeSearch">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <form class="search-form" id="searchForm">
          <input type="text" class="search-input" placeholder="What are you looking for?" id="searchInput">
          <button type="submit" class="search-btn">
            <i class="fas fa-search"></i>
          </button>
        </form>

        <!-- Suggestions Section (shown when no search) -->
        <div class="search-suggestions-container" id="suggestionsContainer">
          <div class="search-suggestions">
            <h3>Suggestions</h3>
            <div class="suggestion-tags">
              <span>Ball</span>
              <span>Bag</span>
              <span>Shoes</span>
              <span>Cleaning Towel</span>
              <span>Gloves</span>
              <span>Spray</span>
            </div>
          </div>
        </div>
        <!-- Search Results Section (shown when searching) -->
        <div class="search-results-container" id="searchResultsContainer">
            <div class="search-results" id="searchResults">
                <h3>Search Results</h3>
                <div class="results-grid" id="resultsGrid">
                    <!-- Results will be populated by JavaScript -->
                </div>
            </div>
        </div>
      </div>
    </div>

  <script>
    // Sample product data
    const products = [
      { id: 1, name: "Pro Performance Bowling Ball", category: "Bowling Ball", price: "$129.99", image: "./images/bowlingball1.png" },
      { id: 2, name: "Tournament 3-Ball Tote", category: "Bowling Bag", price: "$89.99", image: "./images/bowlingball1.png" },
      { id: 3, name: "Leather Bowling Shoes", category: "Bowling Shoes", price: "$79.99", image: "./images/bowlingball1.png" },
      { id: 4, name: "Microfiber Cleaning Towel", category: "Cleaning Supplies", price: "$9.99", image: "./images/bowlingball1.png" },
      { id: 5, name: "Performance Wrist Support", category: "Bowling Accessories", price: "$24.99", image: "./images/bowlingball1.png" },
      { id: 6, name: "Ball Cleaning Spray", category: "Cleaning Supplies", price: "$14.99", image: "./images/bowlingball1.png" },
      { id: 7, name: "Beginner Bowling Ball Set", category: "Bowling Ball", price: "$149.99", image: "./images/bowlingball1.png" },
      { id: 8, name: "Single Ball Roller Bag", category: "Bowling Bag", price: "$49.99", image: "./images/bowlingball1.png" }
    ];

    // Get elements
    const searchToggle = document.getElementById('searchToggle');
    const searchModal = document.getElementById('searchModal');
    const closeSearch = document.getElementById('closeSearch');
    const searchForm = document.getElementById('searchForm');
    const searchInput = document.getElementById('searchInput');
    const suggestionTags = document.querySelectorAll('.suggestion-tags span');
    const searchResultsContainer = document.getElementById('searchResultsContainer');
    const searchResults = document.getElementById('searchResults');
    const resultsGrid = document.getElementById('resultsGrid');
    const suggestionsContainer = document.getElementById('suggestionsContainer');

    // Toggle search modal
    searchToggle.addEventListener('click', () => {
      searchModal.classList.add('active');
      searchInput.focus();
      // Reset to show suggestions when opening
      searchResults.classList.remove('active');
      suggestionsContainer.style.display = 'flex';
    });

    // Close search modal
    closeSearch.addEventListener('click', () => {
      searchModal.classList.remove('active');
      searchResults.classList.remove('active');
      suggestionsContainer.style.display = 'flex';
      searchInput.value = '';
    });

    // Close modal when clicking outside the search container
    searchModal.addEventListener('click', (e) => {
      if (e.target === searchModal) {
        searchModal.classList.remove('active');
        searchResults.classList.remove('active');
        suggestionsContainer.style.display = 'flex';
        searchInput.value = '';
      }
    });

    // Handle search form submission
    searchForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const query = searchInput.value.trim();
      if (query) {
        performSearch(query);
      }
    });

    // Add click event to suggestion tags
    suggestionTags.forEach(tag => {
      tag.addEventListener('click', () => {
        searchInput.value = tag.textContent;
        performSearch(tag.textContent);
      });
    });

    // Perform search function
    function performSearch(query) {
      // Filter products based on search query
      const filteredProducts = products.filter(product => 
        product.name.toLowerCase().includes(query.toLowerCase()) || 
        product.category.toLowerCase().includes(query.toLowerCase())
      );
      
      // Display search results
      displaySearchResults(filteredProducts, query);
    }

function displaySearchResults(results, query) {
    // Clear previous results
    resultsGrid.innerHTML = '';
    
    if (results.length > 0) {
        // Hide suggestions and show results
        suggestionsContainer.style.display = 'none';
        searchResultsContainer.style.display = 'block';
        searchResults.classList.add('active');
        
        // Populate results
        results.forEach(product => {
            const resultItem = document.createElement('div');
            resultItem.className = 'result-item';
            resultItem.innerHTML = `
                <img src="${product.image}" alt="${product.name}" class="result-image">
                <div class="result-name">${product.name}</div>
                <div class="result-price">${product.price}</div>
            `;
            resultsGrid.appendChild(resultItem);
        });
    } else {
        // Show no results message
        suggestionsContainer.style.display = 'none';
        searchResultsContainer.style.display = 'block';
        searchResults.classList.add('active');
        resultsGrid.innerHTML = `
            <div class="no-results">
                <p>No products found for "${query}"</p>
                <p>Try searching with different keywords</p>
            </div>
        `;
    }
}

searchInput.addEventListener('input', (e) => {
    const query = e.target.value.trim();
    
    if (query.length > 0) {
        // Show results immediately when typing starts
        performSearch(query);
    } else {
        // Show suggestions when search is cleared
        searchResultsContainer.style.display = 'none';
        searchResults.classList.remove('active');
        suggestionsContainer.style.display = 'flex';
    }
});

// Update close functions to hide the results container
closeSearch.addEventListener('click', () => {
    searchModal.classList.remove('active');
    searchResultsContainer.style.display = 'none';
    searchResults.classList.remove('active');
    suggestionsContainer.style.display = 'flex';
    searchInput.value = '';

    });
  </script>
</body>
</html>